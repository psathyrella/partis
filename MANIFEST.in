# Include essential files
include README.md
include LICENSE
include COPYING
include *.md
include *.txt
include *.yaml
include *.yml

# Include the main partis script
include bin/partis
include bin/*.py
include bin/*.sh

# Include all data files
recursive-include data *

# Include source packages that need to be compiled
recursive-include packages/ham *
recursive-include packages/ig-sw *
recursive-exclude packages/ham *.o
recursive-exclude packages/ig-sw *.o

# Exclude documentation (plots should be accessed via GitHub/docs site)
recursive-exclude docs *

# Include test scripts and input data at root level
include test/*.py
include test/*.fa
include test/*.yaml
include test/*.yml
include test/*.sh
include test/*.nwk

# Include test data directories
recursive-include test/paired-data *

# Include only non-slow reference results
recursive-include test/ref-results *
recursive-include test/paired/ref-results *

# Exclude everything else in test/
exclude test/new-results
exclude test/new-results-slow
exclude test/ref-results-slow
exclude test/paired/new-results
exclude test/paired/new-results-slow
exclude test/paired/ref-results-slow
prune test/new-results
prune test/new-results-slow
prune test/ref-results-slow
prune test/paired/new-results
prune test/paired/new-results-slow
prune test/paired/ref-results-slow

# Exclude compiled binaries initially (they'll be built during install)
exclude packages/ham/bcrham
exclude packages/ig-sw/src/ig_align/ig-sw

# Exclude build artifacts
global-exclude *.pyc
global-exclude *.pyo
global-exclude *~
global-exclude .DS_Store
global-exclude *.so
recursive-exclude **/__pycache__ *